(this["webpackJsonpguest-book"]=this["webpackJsonpguest-book"]||[]).push([[0],{22:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(7),s=n.n(r),o=(n(22),n(6)),i=n.n(o),u=n(11),j="GET_COMMENTS_PENDING",O="GET_COMMENTS_FULLFILLED",d="ADD_COMMENT_PENDING",m="ADD_COMMENT_FULLFILLED",b="HIDE_LOADER",l="https://obscure-castle-00401.herokuapp.com/comments",p=n(3),h=n(1),f=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.comments})),n=t.data,a=t.isLoading;return Object(c.useEffect)((function(){e(function(){var e=Object(u.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:j}),e.next=4,fetch(l);case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,t({type:O,payload:c});case 9:return e.prev=9,t({type:b}),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,,9,12]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(h.jsxs)(h.Fragment,{children:[a?Object(h.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."}):null,n.map((function(e){return Object(h.jsxs)("article",{className:"comment",children:[Object(h.jsxs)("h3",{className:"comment__name",children:[e.name,":"]}),Object(h.jsx)("p",{className:"comment__text",children:e.comment})]},e.id)}))]})},_=n(2),x=n(16),v={name:"",comment:""},E=function(){var e=Object(c.useState)(Object(_.a)({},v)),t=Object(x.a)(e,2),n=t[0],a=t[1],r=Object(p.b)();return Object(h.jsxs)("div",{className:"addcomment",children:[Object(h.jsx)("h2",{className:"addcomment__title",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(h.jsx)("textarea",{className:"addcomment__text",placeholder:"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",value:n.comment,onChange:function(e){return a(Object(_.a)(Object(_.a)({},n),{},{comment:e.target.value}))}}),Object(h.jsx)("input",{className:"addcomment__name",placeholder:"\u0438\u043c\u044f",value:n.name,onChange:function(e){return a(Object(_.a)(Object(_.a)({},n),{},{name:e.target.value}))}}),Object(h.jsx)("button",{className:"addcomment__btn",onClick:function(){var e;r((e=n,function(){var t=Object(u.a)(i.a.mark((function t(n){var c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(l,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,n({type:m,payload:a});case 8:return t.prev=8,n({type:b}),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,,8,11]])})));return function(e){return t.apply(this,arguments)}}())),a(Object(_.a)({},v))},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},N=n(4),y=n(17),g={data:[],isLoading:!1},L=n(15),D=Object(N.c)({comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:case j:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0});case O:return Object(_.a)(Object(_.a)({},e),{},{data:t.payload});case m:return Object(_.a)(Object(_.a)({},e),{},{data:[].concat(Object(y.a)(e.data),[t.payload])});case b:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1});default:return e}}}),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||N.d,T=Object(N.e)(D,M(Object(N.a)(L.a))),w=function(){return Object(h.jsxs)(p.a,{store:T,children:[Object(h.jsx)(f,{}),Object(h.jsx)(E,{})]})};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.4625132b.chunk.js.map