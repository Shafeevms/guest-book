(this["webpackJsonpguest-book"]=this["webpackJsonpguest-book"]||[]).push([[0],{22:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),s=n.n(r),o=(n(22),n(6)),i=n.n(o),u=n(11),j="GET_COMMENTS_PENDING",m="GET_COMMENTS_FULLFILLED",d="ADD_COMMENT_PENDING",O="ADD_COMMENT_FULLFILLED",b="HIDE_LOADER",l="https://obscure-castle-00401.herokuapp.com/comments",p=n(3),h=n(1),f=function(){return Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)("img",{className:"loader__img",src:"./img/loader.png"})})},_=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.comments})),n=t.data,c=t.isLoading;return Object(a.useEffect)((function(){e(function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:j}),e.next=4,fetch(l);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,t({type:m,payload:a});case 9:return e.prev=9,t({type:b}),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,,9,12]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(h.jsxs)(h.Fragment,{children:[c?Object(h.jsx)(f,{}):null,n.map((function(e){return Object(h.jsxs)("article",{className:"comment",children:[Object(h.jsxs)("h3",{className:"comment__name",children:[e.name,":"]}),Object(h.jsx)("p",{className:"comment__text",children:e.comment})]},e.id)}))]})},x=n(2),v=n(16),N={name:"",comment:""},g=function(){var e=Object(a.useState)(Object(x.a)({},N)),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(p.b)();return Object(h.jsxs)("div",{className:"addcomment",children:[Object(h.jsx)("h2",{className:"addcomment__title",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(h.jsx)("textarea",{className:"addcomment__text",placeholder:"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",value:n.comment,onChange:function(e){return c(Object(x.a)(Object(x.a)({},n),{},{comment:e.target.value}))}}),Object(h.jsx)("input",{className:"addcomment__name",placeholder:"\u0438\u043c\u044f",value:n.name,onChange:function(e){return c(Object(x.a)(Object(x.a)({},n),{},{name:e.target.value}))}}),Object(h.jsx)("button",{className:"addcomment__btn",onClick:function(){var e;r((e=n,function(){var t=Object(u.a)(i.a.mark((function t(n){var a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:d}),t.next=4,fetch(l,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 4:return a=t.sent,t.next=7,a.json();case 7:c=t.sent,n({type:O,payload:c});case 9:return t.prev=9,n({type:b}),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,,9,12]])})));return function(e){return t.apply(this,arguments)}}())),c(Object(x.a)({},N))},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},E=n(4),y=n(17),L={data:[],isLoading:!1},D=n(15),M=Object(E.c)({comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:case j:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0});case m:return Object(x.a)(Object(x.a)({},e),{},{data:t.payload});case O:return Object(x.a)(Object(x.a)({},e),{},{data:[].concat(Object(y.a)(e.data),[t.payload])});case b:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1});default:return e}}}),T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||E.d,w=Object(E.e)(M,T(Object(E.a)(D.a))),C=function(){return Object(h.jsxs)(p.a,{store:w,children:[Object(h.jsx)(_,{}),Object(h.jsx)(g,{})]})};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(C,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.72c47b9b.chunk.js.map